{% extends 'layouts/main.html' %}
{% load static %}
{% block title %}International Order | Perfume Valley{% endblock %}

{% block extra_css %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
  body { background-color: #f7f7f7; font-family: "Poppins", sans-serif; }
  .order-form-container { max-width: 700px; background: #fff; border-radius: 15px;
    box-shadow: 0 3px 10px rgba(0,0,0,0.1); padding: 30px; margin: 50px auto; }
  .btn-submit { background-color: #981942; color: white; border: none; border-radius: 10px; transition: 0.3s; }
  .btn-submit:hover { background-color: #7d1236; }
  .back-button { text-decoration: none; color: #981942; font-weight: 600; display: inline-block; margin-bottom: 10px; }
  .errorlist { color: red; list-style: none; padding-left: 0; margin-top: 4px; font-size: 0.9rem; }
  .is-valid { border: 1.5px solid #28a745 !important; }
  .is-invalid { border: 1.5px solid #dc3545 !important; background-color: #fff5f5; }
</style>
{% endblock %}

{% block content %}
<div class="order-form-container">
   <a href="javascript:void(0);" onclick="window.history.back();" class="back-button">‚Üê Back</a>
   <h4 class="fw-bold mb-3 text-center" style="color: #981942;">International Orders</h4>

   <form method="POST" novalidate>
      {% csrf_token %}
      <div class="row g-3">
        {% for field in form %}
          <div class="col-md-6 {% if field.errors %}has-error{% endif %}">
            <label class="form-label">{{ field.label }}</label>
            {{ field }}
            {% if field.errors %}
              <ul class="errorlist">
                {% for error in field.errors %}
                  <li>{{ error }}</li>
                {% endfor %}
              </ul>
            {% endif %}
          </div>
        {% endfor %}
      </div>

      <button type="submit" class="btn btn-submit w-100 mt-4 py-2" style="background-color: #981942;color: #fff;">Submit</button>
   </form>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const form = document.querySelector('form');
  const inputs = form.querySelectorAll('input, textarea');

  inputs.forEach(input => {
    input.addEventListener('input', () => {
      if (input.validity.valid) {
        input.classList.remove('is-invalid');
        input.classList.add('is-valid');
      } else {
        input.classList.remove('is-valid');
        input.classList.add('is-invalid');
      }
    });
  });

  form.addEventListener('submit', (e) => {
    let isFormValid = true;
    inputs.forEach(input => {
      if (!input.validity.valid) {
        isFormValid = false;
        input.classList.add('is-invalid');
      }
    });
    if (!isFormValid) {
      e.preventDefault();
    }
  });
});
</script>
{% endblock %}
